var AuthorCycleElement=function(){"use strict";window.hasOwnProperty("AuthorBaseElement")||(console.error('[ERROR] <author-cycle> Required dependency "AuthorBaseElement" not found.'),console.info("AuthorBaseElement is available at https://github.com/author-elements/base"));var e=function(e){function t(){var s=this;e.call(this,'<template><style>@charset "UTF-8"; :host{display:block}:host *,:host :after,:host :before{box-sizing:border-box}:host(:not([mode=custom]))>::slotted(:not([selected])){display:none!important}author-cycle{display:block}author-cycle *,author-cycle :after,author-cycle :before{box-sizing:border-box}author-cycle:not([mode=custom])>:not([selected]){display:none!important}</style><slot></slot></template>'),this.UTIL.defineProperties({dummyEl:{private:!0,readonly:!0,default:document.createElement("div")},selected:{readonly:!0,get:function(){return{element:s.selectedElement,index:s.selectedIndex}}},selectedElement:{readonly:!0,get:function(){return null===s.selectedIndex?null:s.children.item(s.selectedIndex)}},selectedIndex:{readonly:!0,get:function(){for(var e in s.children)if(s.children.hasOwnProperty(e)){var t=s.children.item(e);if("object"==typeof t&&t.hasAttribute("selected"))return parseInt(e)}return null}}}),this.UTIL.definePrivateMethods({getChildIndex:function(e){return[].concat(s.children).indexOf(e)},getNextSelectedChild:function(e){return{element:e,index:s.PRIVATE.getChildIndex(e)}},hideChild:function(e){return e.removeAttribute("selected","")},handleChange:function(e,t){0<=s.selectedIndex&&s.PRIVATE.hideChild(s.children.item(s.selectedIndex||0)),e.setAttribute("selected",""),s.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0,composed:!0,detail:{previousSelection:t,currentSelection:s.selected}}))},showChild:function(t){var e=s.PRIVATE,n=e.handleChange,i=e.getNextSelectedChild,r=(e.hideChild,s.selected),o=i(t),l={event:new CustomEvent("beforechange",{bubbles:!0,cancelable:!0,composed:!0,detail:{currentSelection:s.selected,nextSelection:o}}),handler:function(e){s.off("beforechange",l.handler),e.defaultPrevented||n(t,r)}};s.on("beforechange",l.handler),l.event.detail.next=function(){if(!this.defaultPrevented)return this.UTIL.printToConsole('Calling "next()" in "beforechange" event handler will have no effect unless the event\'s default behavior is canceled. (use Event.preventDefault())',"warning");n(t,r)}.bind(l.event),s.dispatchEvent(l.event)},showChildByIndex:function(e){s.selectedIndex===e||e>=s.children.length||e<0||s.PRIVATE.showChild(s.children.item(e))},showChildBySelector:function(e){var t=s.querySelectorAll(e);if(!t.length)return s.UTIL.printToConsole('Node matching query "'+e+'" not found. Aborting...',"warning");1<t.length&&s.UTIL.printToConsole('Found multiple nodes matching "'+e+'". Displaying first result...',"warning"),s.PRIVATE.showChild(t.item(0))}}),this.UTIL.registerListeners(this,{connected:function(){s.UTIL.monitorChildren(function(e){e.forEach(function(e){e.addedNodes;var t=e.removedNodes;switch(e.type){case"childList":if(0<t.length&&!s.selectedElement)return s.previous()}})})},rendered:function(){for(var e in s.children)if(s.children.hasOwnProperty(e)){var t=s.children.item(e);"object"==typeof t&&t!==s.selectedElement&&s.PRIVATE.hideChild(t)}}})}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={observedAttributes:{configurable:!0}};return n.observedAttributes.get=function(){return["mode"]},t.prototype.hideAll=function(){for(var e in this.children)if(this.children.hasOwnProperty(e)){var t=this.children.item(e);"object"==typeof t&&this.PRIVATE.hideChild(t)}},t.prototype.indexOf=function(e){return this.PRIVATE.getChildIndex(e)},t.prototype.insertAdjacentHTML=function(e,t){switch(e){case"beforebegin":case"afterend":return HTMLElement.prototype.insertAdjacentHTML.call(this,e,t);default:var n=this.PRIVATE.dummyEl;n.insertAdjacentHTML(e,t);for(var i=n.children.item(0);n.firstChild;)n.removeChild(n.firstChild);return"beforeend"===e?this.appendChild(i):this.insertBefore(i,this.firstElementChild)}},t.prototype.insertAdjacentElement=function(e,t){switch(e){case"beforeend":return this.appendChild(t);case"afterbegin":return this.insertBefore(t,this.firstElementChild);default:return HTMLElement.prototype.insertAdjacentElement.call(this,e,t)}},t.prototype.first=function(){this.show(0)},t.prototype.last=function(){this.show(this.children.length-1)},t.prototype.next=function(e){this.show(this.selectedIndex===this.children.length-1?0:this.selectedIndex+1),e&&e(this.selectedElement)},t.prototype.previous=function(e){this.show(0===this.selectedIndex?this.children.length-1:this.selectedIndex-1),e&&e(this.selectedElement)},t.prototype.show=function(e){if(null!==e)switch((typeof e).toLowerCase()){case"number":return this.PRIVATE.showChildByIndex(e);case"string":var t=parseInt(e);return isNaN(t)?this.PRIVATE.showChildBySelector(e):this.PRIVATE.showChildByIndex(t);default:return e instanceof HTMLElement?this.PRIVATE.showChild(e):this.UTIL.throwError({type:"reference",message:'Invalid query "'+e+'"'})}else this.selectedIndex||this.PRIVATE.showChildByIndex(0)},Object.defineProperties(t,n),t}(AuthorBaseElement(HTMLElement));return customElements.define("author-cycle",e),e}();
//# sourceMappingURL=author-cycle.es5.min.js.map
