{"version":3,"file":"author-datalist.js","sources":["../src/element.js"],"sourcesContent":["class AuthorDatalistElement extends AuthorElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.clickCount = 0\n\n    this.PRIVATE.addReadOnlyProperty('options')\n\n    this.PRIVATE.options = []\n\n    this.PRIVATE.find = query => {\n      return this.PRIVATE.options.filter(option => {\n        let value = this.hasAttribute('case-sensitive') ? option.sourceElement.value : option.sourceElement.value.toLowerCase()\n        let text = this.hasAttribute('case-sensitive') ? option.sourceElement.text : option.sourceElement.text.toLowerCase()\n        query = this.hasAttribute('case-sensitive') ? query : query.toLowerCase()\n\n        return value.indexOf(query) >= 0 || text.indexOf(query) >= 0\n      })\n    }\n\n    this.PRIVATE.clear = () => {\n      this.PRIVATE.options.forEach(option => option.displayElement.style.display = 'none')\n    }\n\n    this.PRIVATE.showAllOptions = () => {\n      this.PRIVATE.options.forEach(option => option.displayElement.style.display = '')\n    }\n\n    this.PRIVATE.clickHandler = evt => {\n      this.clickCount++\n\n      if (this.clickCount === 2) {\n        this.PRIVATE.showAllOptions()\n        this.open()\n      }\n    }\n\n    this.PRIVATE.keydownHandler = evt => {\n      if (!this.isOpen) {\n        this.PRIVATE.showAllOptions()\n        return this.open()\n      }\n\n      switch (evt[this.keySource]) {\n        case 27:\n        case 'Escape':\n          this.PRIVATE.clear()\n          this.close()\n          break\n\n        case 38:\n        case 'ArrowUp':\n          evt.preventDefault()\n          console.log('select previous option');\n          break\n\n        case 40:\n        case 'ArrowDown':\n          evt.preventDefault()\n          console.log('select next option');\n          break\n\n        default:\n          return\n      }\n    }\n\n    this.PRIVATE.inputHandler = evt => {\n      this.PRIVATE.clear()\n      let query = this.PRIVATE.inputEl.value\n\n      if (!query) {\n        return\n      }\n\n      let results = this.PRIVATE.find(query)\n\n      if (results.length) {\n        results.forEach(result => result.displayElement.style.display = '')\n        this.setAttribute('open', '')\n        return\n      }\n\n      if (this.hasAttribute('open')) {\n        this.removeAttribute('open')\n      }\n\n      this.PRIVATE.clear()\n    }\n\n    this.PRIVATE.bodyClickHandler = evt => {\n      if (evt.target === this || this.contains(evt.target)) {\n        return\n      }\n\n      this.removeAttribute('open')\n    }\n\n    this.PRIVATE.getOptionById = (id) => {\n      let options = this.PRIVATE.options\n      let option\n\n      for (let i = 0; i < options.length; i++) {\n        if (options[i].id === id) {\n          option = options[i]\n          break\n        }\n      }\n\n      return option\n    }\n\n    this.PRIVATE.generateOptionObject = optionEl => {\n      if (!customElements.get('chassis-option')) {\n        console.error(`chassis-datalist requires chassis-option. Please include it in this document's <head> element.`)\n        return\n      }\n\n      let obj = {\n        id: this.PRIVATE.generateGuid('option'),\n        attributes: {},\n        sourceElement: optionEl\n      }\n\n      for (let attr of optionEl.attributes) {\n        obj.attributes[attr.name] = attr.value\n      }\n\n      return obj\n    }\n  }\n\n  static get observedAttributes () {\n    return ['autofocus', 'case-sensitive', 'disabled', 'name', 'open', 'tabindex']\n  }\n\n  get isOpen () {\n    return this.hasAttribute('open')\n  }\n\n  set isOpen (bool) {\n    bool ? this.setAttribute('open', '') : this.removeAttribute('open')\n  }\n\n  get value () {\n    return this.PRIVATE.inputEl.value\n  }\n\n  connectedCallback () {\n    this.PRIVATE.inputEl.addEventListener('focus', evt => {\n      this.addEventListener('keydown', this.PRIVATE.keydownHandler)\n    })\n\n    this.PRIVATE.inputEl.addEventListener('input', this.PRIVATE.inputHandler)\n\n    this.PRIVATE.inputEl.addEventListener('click', this.PRIVATE.clickHandler)\n\n    this.PRIVATE.inputEl.addEventListener('blur', evt => {\n      this.clickCount = 0\n      this.removeEventListener('keydown', this.PRIVATE.keydownHandler)\n    })\n\n    setTimeout(() => {\n      if (!this.hasAttribute('tabindex')) {\n        this.setAttribute('tabindex', 0)\n      }\n\n      if (this.autofocus) {\n        this.focus()\n      }\n    }, 0)\n  }\n\n  addChildren (children) {\n    for (let child of children) {\n      this.addOption(child instanceof HTMLElement ? this.PRIVATE.generateOptionObject(child) : child)\n    }\n  }\n\n  addOption (option, index, dest = this.PRIVATE.optionsEl) {\n    if (!customElements.get('chassis-option')) {\n      console.error(`chassis-datalist requires chassis-option. Please include it in this document's <head> element.`)\n      return\n    }\n\n    if (!option.hasOwnProperty('id')) {\n      option.id = this.PRIVATE.generateGuid('option')\n    }\n\n    if (!option.hasOwnProperty('sourceElement') || !(option.sourceElement instanceof HTMLElement)) {\n      let sourceEl = document.createElement('option')\n\n      if (option.hasOwnProperty('innerHTML')) {\n        sourceEl.innerHTML = option.innerHTML\n      }\n\n      if (option.hasOwnProperty('label')) {\n        sourceEl.innerHTML = option.label\n      }\n\n      if (option.hasOwnProperty('value')) {\n        sourceEl.value = option.value\n      }\n\n      if (option.hasOwnProperty('disabled')) {\n        sourceEl.disabled = typeof option.disabled === 'boolean' && option.disabled\n      }\n\n      option.sourceElement = sourceEl\n    }\n\n    let label = option.sourceElement.getAttribute('label') || option.sourceElement.textContent.trim()\n    let value = option.sourceElement.getAttribute('value')\n    let disabled = option.sourceElement.disabled\n    let chassisOption = document.createElement('chassis-option')\n\n    chassisOption.style.display = 'none'\n    chassisOption.key = option.id\n    chassisOption.innerHTML = option.sourceElement.innerHTML\n\n    dest.appendChild(chassisOption)\n    chassisOption.addEventListener('click', evt => this.select(chassisOption.key))\n\n    option = {\n      attributes: { disabled, label, value },\n      id: option.id,\n      displayElement: chassisOption,\n      sourceElement: option.sourceElement\n    }\n\n    if (index) {\n      this[`${index}`] = option.sourceElement\n      this.PRIVATE.options.splice(index, 0, option)\n      return\n    }\n\n    this[`${this.PRIVATE.options.length}`] = option.sourceElement\n    this.PRIVATE.options.push(option)\n  }\n\n  attributeChangedCallback (attr, oldValue, newValue) {\n    attr = attr.toLowerCase()\n\n    if (newValue === oldValue) {\n      return\n    }\n\n    switch (attr) {\n      case 'autofocus':\n      case 'disabled':\n        console.log(attr);\n        // this.PRIVATE.setBooleanAttributeValue(attr, newValue)\n        break\n\n      case 'name':\n        console.log(attr);\n        // this.PRIVATE.setAttributeValue(attr, newValue)\n        break\n\n      case 'open':\n        this.isOpen ? this.open() : this.close()\n        break\n    }\n  }\n\n  close () {\n    document.body.removeEventListener('click', this.PRIVATE.bodyClickHandler)\n    document.body.removeEventListener('touchcancel', this.PRIVATE.bodyClickHandler)\n    document.body.removeEventListener('touchend', this.PRIVATE.bodyClickHandler)\n\n    if (this.isOpen) {\n      this.isOpen = false\n    }\n  }\n\n  open () {\n    document.body.addEventListener('click', this.PRIVATE.bodyClickHandler)\n    document.body.addEventListener('touchcancel', this.PRIVATE.bodyClickHandler)\n    document.body.addEventListener('touchend', this.PRIVATE.bodyClickHandler)\n\n    if (!this.isOpen) {\n      this.isOpen = true\n    }\n  }\n\n  inject (input, datalist, guid) {\n    this.PRIVATE.sourceEl = datalist\n    this.PRIVATE.inputEl = input\n    this.PRIVATE.inputEl.slot = 'input'\n    this.PRIVATE.inputEl.id = guid\n    this.appendChild(this.PRIVATE.inputEl)\n\n    this.PRIVATE.optionsEl = document.createElement('chassis-options')\n    this.PRIVATE.optionsEl.slot = 'options'\n\n    this.appendChild(this.PRIVATE.optionsEl)\n\n    this.addChildren(datalist.options)\n  }\n\n  select (id) {\n    let option = this.PRIVATE.getOptionById(id)\n\n    if (option) {\n      option.sourceElement.selected = true\n      this.PRIVATE.inputEl.value = option.displayElement.innerHTML\n      this.PRIVATE.selectedOption = option\n\n      this.PRIVATE.options.forEach(option => option.displayElement.removeAttribute('selected'))\n      option.displayElement.setAttribute('selected', '')\n\n      this.dispatchEvent(new Event('input', {\n        bubbles: true\n      }))\n\n      this.close()\n    }\n  }\n}\n\ncustomElements.define('chassis-datalist', AuthorDatalistElement)\n"],"names":[],"mappings":"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"}