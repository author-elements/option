var AuthorCycleElement=function(){"use strict";window.hasOwnProperty("AuthorBaseElement")||(console.error('[ERROR] <author-cycle> Required dependency "AuthorBaseElement" not found.'),console.info("AuthorBaseElement is available at https://github.com/author-elements/base"));class e extends(AuthorBaseElement(HTMLElement)){constructor(){super('<template><style>@charset "UTF-8"; :host{display:block}:host *,:host :after,:host :before{box-sizing:border-box}:host(:not([mode=custom]))>::slotted(:not([selected])){display:none!important}author-cycle{display:block}author-cycle *,author-cycle :after,author-cycle :before{box-sizing:border-box}author-cycle:not([mode=custom])>:not([selected]){display:none!important}</style><slot></slot></template>'),this.UTIL.defineProperties({dummyEl:{private:!0,readonly:!0,default:document.createElement("div")},selected:{readonly:!0,get:()=>({element:this.selectedElement,index:this.selectedIndex})},selectedElement:{readonly:!0,get:()=>null===this.selectedIndex?null:this.children.item(this.selectedIndex)},selectedIndex:{readonly:!0,get:()=>{for(let e in this.children){if(!this.children.hasOwnProperty(e))continue;let t=this.children.item(e);if("object"==typeof t&&t.hasAttribute("selected"))return parseInt(e)}return null}}}),this.UTIL.definePrivateMethods({getChildIndex:e=>[...this.children].indexOf(e),getNextSelectedChild:e=>{return{element:e,index:this.PRIVATE.getChildIndex(e)}},hideChild:e=>e.removeAttribute("selected",""),handleChange:(e,t)=>{this.selectedIndex>=0&&this.PRIVATE.hideChild(this.children.item(this.selectedIndex||0)),e.setAttribute("selected",""),this.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0,composed:!0,detail:{previousSelection:t,currentSelection:this.selected}}))},showChild:e=>{let{handleChange:t,getNextSelectedChild:i,hideChild:n}=this.PRIVATE,s=this.selected,l=i(e),h={event:new CustomEvent("beforechange",{bubbles:!0,cancelable:!0,composed:!0,detail:{currentSelection:this.selected,nextSelection:l}}),handler:i=>{this.off("beforechange",h.handler),i.defaultPrevented||t(e,s)}};this.on("beforechange",h.handler),h.event.detail.next=function(){if(!this.defaultPrevented)return this.UTIL.printToConsole('Calling "next()" in "beforechange" event handler will have no effect unless the event\'s default behavior is canceled. (use Event.preventDefault())',"warning");t(e,s)}.bind(h.event),this.dispatchEvent(h.event)},showChildByIndex:e=>{this.selectedIndex===e||e>=this.children.length||e<0||this.PRIVATE.showChild(this.children.item(e))},showChildBySelector:e=>{let t=this.querySelectorAll(e);if(!t.length)return this.UTIL.printToConsole(`Node matching query "${e}" not found. Aborting...`,"warning");t.length>1&&this.UTIL.printToConsole(`Found multiple nodes matching "${e}". Displaying first result...`,"warning"),this.PRIVATE.showChild(t.item(0))}}),this.UTIL.registerListeners(this,{connected:()=>{this.UTIL.monitorChildren(e=>{e.forEach(e=>{let{addedNodes:t,removedNodes:i,type:n}=e;switch(n){case"childList":if(i.length>0&&!this.selectedElement)return this.previous()}})})},rendered:()=>{for(let e in this.children){if(!this.children.hasOwnProperty(e))continue;let t=this.children.item(e);"object"==typeof t&&(t!==this.selectedElement&&this.PRIVATE.hideChild(t))}}})}static get observedAttributes(){return["mode"]}hideAll(){for(let e in this.children){if(!this.children.hasOwnProperty(e))continue;let t=this.children.item(e);"object"==typeof t&&this.PRIVATE.hideChild(t)}}indexOf(e){return this.PRIVATE.getChildIndex(e)}insertAdjacentHTML(e,t){switch(e){case"beforebegin":case"afterend":return HTMLElement.prototype.insertAdjacentHTML.call(this,e,t);default:let{dummyEl:i}=this.PRIVATE;i.insertAdjacentHTML(e,t);let n=i.children.item(0);for(;i.firstChild;)i.removeChild(i.firstChild);return"beforeend"===e?this.appendChild(n):this.insertBefore(n,this.firstElementChild)}}insertAdjacentElement(e,t){switch(e){case"beforeend":return this.appendChild(t);case"afterbegin":return this.insertBefore(t,this.firstElementChild);default:return HTMLElement.prototype.insertAdjacentElement.call(this,e,t)}}first(){this.show(0)}last(){this.show(this.children.length-1)}next(e){this.show(this.selectedIndex===this.children.length-1?0:this.selectedIndex+1),e&&e(this.selectedElement)}previous(e){this.show(0===this.selectedIndex?this.children.length-1:this.selectedIndex-1),e&&e(this.selectedElement)}show(e){if(null!==e)switch((typeof e).toLowerCase()){case"number":return this.PRIVATE.showChildByIndex(e);case"string":let t=parseInt(e);return isNaN(t)?this.PRIVATE.showChildBySelector(e):this.PRIVATE.showChildByIndex(t);default:return e instanceof HTMLElement?this.PRIVATE.showChild(e):this.UTIL.throwError({type:"reference",message:`Invalid query "${e}"`})}else this.selectedIndex||this.PRIVATE.showChildByIndex(0)}}return customElements.define("author-cycle",e),e}();
//# sourceMappingURL=author-cycle.min.js.map
